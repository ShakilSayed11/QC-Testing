<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quality and Error Checks for Credibility Interviewers - Developed By Shakil Sayed</title>
    <link rel="stylesheet" href="styles.css">
</head>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f4f4f4;
}

.header {
    text-align: center;
    padding: 20px;
    background-color: #333;
    color: white;
}

form {
    max-width: calc(100% - 40px);
    margin: 20px auto;
    background: white;
    padding: 20px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
}

.form-group {
    margin-bottom: 15px;
    display: flex;
    justify-content: space-between;
    flex-wrap: wrap;
    align-items: center; /* Added to center labels with fields */
}

label {
    flex: 0 0 150px;
    margin-right: 10px;
    display: flex;
    align-items: center; /* Added to center labels vertically */
}

input[type="text"], input[type="date"], input[type="time"], select, textarea {
    flex: 1;
    box-sizing: border-box;
    padding: 8px;
    border: 1px solid #ccc;
    border-radius: 4px;
    margin-bottom: 10px;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
}

table, th, td {
    border: 1px solid black;
}

th, td {
    padding: 10px;
    text-align: left;
}

textarea {
    width: 100%;
    box-sizing: border-box;
}

select {
    width: 100%;
    box-sizing: border-box;
}

input[type="number"] {
    width: 100%;
    box-sizing: border-box;
}

button {
    display: block;
    width: 100%;
    padding: 10px;
    background-color: #4CAF50;
    color: white;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
}

button:hover {
    background-color: #45a049;
}

.table-container {
    display: flex;
    flex-direction: row;
    gap: 20px;
}

.table-container > div {
    flex: 1;
}
</style>
<body>
    <div class="header">
        <h1>Quality and Error Checks for Credibility Interviewers</h1>
        <p>Developed By Shakil Sayed</p>
    </div>
    <form id="qcForm">
        <div class="form-group">
            <label for="interviewDate">Interview Date:</label>
            <input type="date" id="interviewDate" name="interviewDate" required>
            
            <label for="interviewTime">Interview Time:</label>
            <input type="time" id="interviewTime" name="interviewTime" required>
            
            <label for="qcDate">QC Date:</label>
            <input type="date" id="qcDate" name="qcDate" required>
        </div>
        <div class="form-group">
            <label for="qcOfficer">QC Officer:</label>
            <input type="text" id="qcOfficer" name="qcOfficer" required>
            
            <label for="studentName">Student Name:</label>
            <input type="text" id="studentName" name="studentName" required>
            
            <label for="studentID">Student ID:</label>
            <input type="text" id="studentID" name="studentID" required>
        </div>

        <div class="table-container">
            <div>
                <h2>QC Assessment</h2>
                <table id="firstTable">
                    <thead>
                        <tr>
                            <th>Sr. No.</th>
                            <th>Task Timings</th>
                            <th>Description</th>
                            <th>QC Remark's</th>
                            <th>QC Comment's</th>
                            <th>Score (0-10)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- The rows will be inserted here by JavaScript -->
                    </tbody>
                </table>
                <div class="form-group">
                    <label for="overallPerformance">Overall Performance:</label>
                    <input type="text" id="overallPerformance" name="overallPerformance" readonly>
                </div>
            </div>
            <div>
                <h2>Student Performance Assessment</h2>
                <table id="secondTable">
                    <thead>
                        <tr>
                            <th>Sr. No.</th>
                            <th>Description</th>
                            <th>Student Response</th>
                            <th>Comments</th>
                            <th>Time Stamp</th>
                            <th>Score (0-10)</th>
                        </tr>
                    </thead>
                    <tbody>
                        <!-- The rows will be inserted here by JavaScript -->
                    </tbody>
                </table>
                <div class="form-group">
                    <label for="overallPerformance2">Overall Performance:</label>
                    <input type="text" id="overallPerformance2" name="overallPerformance2" readonly>
                </div>
            </div>
        </div>
        
        <button type="button" id="savePDF">Save as PDF</button>
    </form>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.13/jspdf.plugin.autotable.min.js"></script>
    <script>
document.addEventListener('DOMContentLoaded', function() {
    const form = document.getElementById('qcForm');
    const firstTableBody = document.getElementById('firstTable').querySelector('tbody');
    const secondTableBody = document.getElementById('secondTable').querySelector('tbody');
    const savePDFButton = document.getElementById('savePDF');
    const overallPerformanceInput = document.getElementById('overallPerformance');
    const overallPerformanceInput2 = document.getElementById('overallPerformance2');
    
    const tasks = [
        "Proper Recording is done with clear facial visibility",
        "Proper self-introduction",
        "Behaviour - (Respectful and polite in nature throughout the Interview)",
        "Student Verification done (Passport / Academics)",
        "Network/ background noise / availability of interviewer without pause",
        "All relevant questions covered (Visa Refusals / Prev Studies)",
        "All relevant questions covered (Country, University, and Course including countries and universities comparisons)",
        "All relevant questions covered (Post Study plans and future goals)",
        "All relevant questions covered (Finances)",
        "All relevant questions covered (English Comms)",
        "Sheets Filled accurately",
        "Assessment Done properly",
        "Updation (Tracker / Cas Shield / IQ / T-drive / SharePoint)",
        "Feedback shared with Student / Agent.",
        "Overall Performance of the Interviewer"
    ];

    tasks.forEach((task, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${index + 1}</td>
            <td>During Interview</td>
            <td>${task}</td>
            <td>
                <select name="qcRemarks${index + 1}">
                    <option value="Good">Good</option>
                    <option value="Average">Average</option>
                    <option value="Poor">Poor</option>
                </select>
            </td>
            <td><textarea name="qcComments${index + 1}"></textarea></td>
            <td><input type="number" name="score${index + 1}" min="0" max="10" step="1" required></td>
        `;
        firstTableBody.appendChild(row);
    });

    form.addEventListener('input', function() {
        let totalScore = 0;
        let count = 0;
        form.querySelectorAll('input[type="number"]').forEach(input => {
            if (input.value !== "") {
                totalScore += parseInt(input.value);
                count++;
            }
        });
        overallPerformanceInput.value = count ? (totalScore / count).toFixed(2) : '';
    });

    const secondTasks = [
        "Body Language and Attitude of student",
        "Passport and Facial Verification",
        "Answered (Visa Refusals / Travel History)",
        "English Communication Skills",
        "Other Countries Comparision",
        "Why UK",
        "Why not Home country",
        "Why this University",
        "Other UK Universities Comparision",
        "Previous Qualifications / Experience",
        "Why this Course Answered",
        "Course Modules explained",
        "Future Plans / Goals Answered",
        "Finances (More than Total Fees + Living Cost of total study period) Explained"
    ];

    secondTasks.forEach((task, index) => {
        const row = document.createElement('tr');
        row.innerHTML = `
            <td>${index + 1}</td>
            <td>${task}</td>
            <td><textarea name="studentResponse${index + 1}"></textarea></td>
            <td><textarea name="studentComments${index + 1}"></textarea></td>
            <td>00:00</td>
            <td><input type="number" name="studentScore${index + 1}" min="0" max="10" step="1" required></td>
        `;
        secondTableBody.appendChild(row);
    });

    form.addEventListener('input', function() {
        let totalScore2 = 0;
        let count2 = 0;
        form.querySelectorAll('input[type="number"]').forEach(input => {
            if (input.name.startsWith('studentScore') && input.value !== "") {
                totalScore2 += parseInt(input.value);
                count2++;
            }
        });
        overallPerformanceInput2.value = count2 ? (totalScore2 / count2).toFixed(2) : '';
    });

    savePDFButton.addEventListener('click', function() {
        const { jsPDF } = window.jspdf;
        const doc = new jsPDF();

        doc.text("Quality and Error Checks for Credibility Interviewers", 10, 10);
        doc.text("Developed By Shakil Sayed", 10, 20);

        doc.autoTable({
            html: '#firstTable',
            startY: 30,
            theme: 'grid',
            headStyles: { fillColor: [41, 128, 185] },
            styles: { cellPadding: 3 },
            columnStyles: { 0: { cellWidth: 10 }, 1: { cellWidth: 30 }, 2: { cellWidth: 50 }, 3: { cellWidth: 20 }, 4: { cellWidth: 40 }, 5: { cellWidth: 20 } }
        });

        doc.autoTable({
            html: '#secondTable',
            startY: doc.previousAutoTable.finalY + 10,
            theme: 'grid',
            headStyles: { fillColor: [41, 128, 185] },
            styles: { cellPadding: 3 },
            columnStyles: { 0: { cellWidth: 10 }, 1: { cellWidth: 60 }, 2: { cellWidth: 40 }, 3: { cellWidth: 40 }, 4: { cellWidth: 20 }, 5: { cellWidth: 20 } }
        });

        doc.save('quality_checks.pdf');
    });
});
    </script>
</body>
</html>
